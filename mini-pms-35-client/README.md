# 35. 동일한 자원으로 더 많은 클라이언트 요청을 처리하는 방법 : Stateful을 Stateless로 전환하기

이번 훈련에서는,
- **Stateful 통신 방식** 과 **Stateless 통신 방식** 의 차이를 이해한다.
- 기존 서버 애플리케이션을 **Stateless 통신 방식** 으로 바꾼다.

**Stateful 통신 방식** 은,
- 클라이언트와 서버가 한 번 연결되면 한 쪽에서 연결을 끊을 때까지 계속 연결된 상태로 있는다.
- 보통 한 쪽에서 연결을 끊기 전에 상대편으로 먼저 알려준다.
- 장점
  - 서버에서 클라이언트와 작업 결과를 손쉽게 관리할 수 있다.
- 단점
  - 클라이언트가 명시적으로 연결을 끊기 전까지는 계속 연결된 상태로 있기 때문에
    동시에 연결할 수 있는 클라이언트 수에 제한이 있다.

**Stateless 통신 방식** 은,
- 클라이언트가 서버에 요청할 때 마다 연결한다.
- 서버의 응답이 완료되면 즉시 연결을 끊는다.
- 장점
  - 클라이언트에게 응답하는 즉시 연결을 끊기 때문에 메모리를 좀 더 효율적으로 사용할 수 있다.
  - 왜냐하면, 클라이언트가 요청하지 않을 때는 서버에서 소켓을 유지 않기 때문이다.
- 단점
  - 클라이언트에서 요청할 때마다 서버와 연결해야 하기 때문에 요청 처리 시간에 연결 시간이 포함된다.

## 훈련 목표
- **Stateful** 과 **Stateless** 통신 방식의 특징과 차이점을 이해한다.
- **Stateless** 통신 방식을 구현할 수 있다.

## 훈련 내용
- 서버에서 응답하는 즉시 연결을 끊는다.


## 실습

### 1단계 - 서버에 연결할 때 한 번만 요청/응답하도록 변경한다.

- `com.eomcs.pms.ClientApp` 변경
  - 서버에 연결하면 quit 명령을 보낼 때까지 계속 연결되어 있는
    기존의 stateful 통신 방법을,
    서버에 연결했을 때 한 번만 요청하고 응답하는 stateless 통신 방법으로 변경한다.


## 실습 결과
- src/main/java/com/eomcs/pms/ClientApp.java 변경
